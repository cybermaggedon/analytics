
openssl rand -out RAND 16384
openssl genrsa -out KEY.ca@priors.org.uk -rand RAND 1024
openssl req -key KEY.ca@priors.org.uk -out CERT.ca@priors.org.uk -days 8000 \
	-x509 -extensions v3_ca -new -config CONFIG.ca@priors.org.uk
openssl verify -CAfile CERT.ca@priors.org.uk CERT.ca@priors.org.uk

openssl rand -out RAND 16384
openssl genrsa -out KEY.mark@priors.org.uk -rand RAND 1024
openssl req -key KEY.mark@priors.org.uk -out REQ.mark@priors.org.uk -days 356 \
	-extensions exten -new -config CONFIG.mark@priors.org.uk
openssl x509 -req -in REQ.mark@priors.org.uk -CAkey KEY.ca@priors.org.uk \
	-CA CERT.ca@priors.org.uk -CAcreateserial -CAserial SERIAL.ca \
	-out CERT.mark@priors.org.uk
openssl verify -CAfile CERT.ca@priors.org.uk CERT.mark@priors.org.uk

openssl rand -out RAND 16384
openssl genrsa -out KEY.jaguar@priors.org.uk -rand RAND 1024
openssl req -key KEY.jaguar@priors.org.uk -out REQ.jaguar@priors.org.uk \
	-days 356 \
	-extensions exten -new -config CONFIG.jaguar@priors.org.uk
openssl x509 -req -in REQ.jaguar@priors.org.uk -CAkey KEY.ca@priors.org.uk \
	-CA CERT.ca@priors.org.uk -CAcreateserial -CAserial SERIAL.ca \
	-out CERT.jaguar@priors.org.uk
openssl verify -CAfile CERT.ca@priors.org.uk CERT.jaguar@priors.org.uk


openssl s_server -CAfile CERT.ca@priors.org.uk \
	-cert CERT.jaguar@priors.org.uk -key KEY.jaguar@priors.org.uk \
	-accept 443

openssl s_client -CAfile CERT.ca@priors.org.uk \
	-cert CERT.mark@priors.org.uk -key KEY.mark@priors.org.uk \
	-connect jaguar:443
